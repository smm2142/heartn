<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Heart Animation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505; /* Çox tünd arxa fon */
            overflow: hidden; /* Sürüşdürmə çubuqlarını gizlət */
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>

<canvas id="heartCanvas"></canvas>

<script>
    const canvas = document.getElementById('heartCanvas');
    const ctx = canvas.getContext('2d');

    let width, height;
    let particles = [];
    const particleCount = 800; // Nöqtələrin sayı

    // Neon rəng palitrası
    const colors = [
        '#FF007F', // Parlaq Çəhrayı
        '#FF1493', // Deep Pink
        '#E000FF', // Bənövşəyi
        '#FF6464', // Açıq qırmızı
        '#00FFFF'  // Mavi (əlavə kontrast üçün)
    ];

    // Ekran ölçüsünü yeniləmək
    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // Ürək formulu (Riyazi funksiya)
    function getHeartPosition(t) {
        // Parametrik ürək tənliyi
        const x = 16 * Math.pow(Math.sin(t), 3);
        const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
        
        // Ölçü (Scale) ekran ölçüsünə görə dəyişir
        const scale = Math.min(width, height) / 40; 
        
        return {
            x: width / 2 + x * scale,
            y: height / 2 + y * scale
        };
    }

    class Particle {
        constructor(index) {
            // Hər hissəcik üçün hədəf mövqe (Target)
            const t = (Math.PI * 2 * index) / particleCount;
            const target = getHeartPosition(t);
            this.targetX = target.x;
            this.targetY = target.y;

            // Başlanğıc mövqeyi (Ekranın kənarlarından)
            const edge = Math.floor(Math.random() * 4);
            if (edge === 0) { // Yuxarı
                this.x = Math.random() * width;
                this.y = -10;
            } else if (edge === 1) { // Sağ
                this.x = width + 10;
                this.y = Math.random() * height;
            } else if (edge === 2) { // Aşağı
                this.x = Math.random() * width;
                this.y = height + 10;
            } else { // Sol
                this.x = -10;
                this.y = Math.random() * height;
            }

            this.color = colors[Math.floor(Math.random() * colors.length)];
            this.size = Math.random() * 2 + 1;
            this.speed = Math.random() * 0.03 + 0.02; // Hərəkət sürəti
            this.reached = false;
        }

        update() {
            // Hədəfə doğru "Easing" hərəkəti (yumşaq yaxınlaşma)
            const dx = this.targetX - this.x;
            const dy = this.targetY - this.y;
            
            // Məsafə çox azdırsa, yerində titrəsin (Neon effekti)
            if (Math.abs(dx) < 1 && Math.abs(dy) < 1) {
                this.reached = true;
                this.x = this.targetX + (Math.random() - 0.5) * 2;
                this.y = this.targetY + (Math.random() - 0.5) * 2;
            } else {
                this.x += dx * this.speed;
                this.y += dy * this.speed;
            }
        }

        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            
            // Neon Glow effekti
            if (this.reached) {
                ctx.shadowBlur = 10;
                ctx.shadowColor = this.color;
            } else {
                ctx.shadowBlur = 0;
            }
            
            ctx.fill();
        }
    }

    // Hissəcikləri yaradın
    function init() {
        particles = [];
        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle(i));
        }
    }

    // Animasiya dövrəsi
    function animate() {
        // Ekranı təmizləyərkən yüngül iz buraxmaq (motion trail)
        ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
        ctx.fillRect(0, 0, width, height);

        particles.forEach(p => {
            p.update();
            p.draw();
        });

        requestAnimationFrame(animate);
    }

    init();
    animate();

    // Pəncərə ölçüsü dəyişəndə yenidən hesabla
    window.addEventListener('resize', () => {
        resize();
        init();
    });

</script>

</body>
</html>